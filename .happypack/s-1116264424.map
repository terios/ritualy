{"version":3,"sources":["src/store/configure.js"],"names":["devtools","window","devToolsExtension","fn","configureStore","initialState","services","sagaMiddleware","enhancers","store","sagaTask","run","module","hot","accept","nextReducer","require","default","replaceReducer","nextSagas","cancel","done","then"],"mappings":";;;;;;AACA;;AACA;;;;AACA;;AACA;;;;AACA;;;;AACA;;;;;;oMANA;;;AAQA,IAAMA,WAAW,sCAAsBC,OAAOC,iBAA7B,GACbD,OAAOC,iBADM,GAEb;AAAA,SAAM;AAAA,WAAMC,EAAN;AAAA,GAAN;AAAA,CAFJ;;AAIA,IAAMC,iBAAiB,SAAjBA,cAAiB,CAACC,YAAD,EAAiC;AAAA,MAAlBC,QAAkB,uEAAP,EAAO;;AACtD,MAAMC,iBAAiB,0BAAvB;;AAEA,MAAMC,YAAY,CAChB,0FAEED,cAFF,GADgB,EAKhBP,UALgB,CAAlB;;AAQA,MAAMS,QAAQ,2CAAqBJ,YAArB,EAAmC,gCAAWG,SAAX,CAAnC,CAAd;AACA,MAAIE,WAAWH,eAAeI,GAAf,kBAA0BL,QAA1B,CAAf;;AAEA,MAAIM,OAAOC,GAAX,EAAgB;AACdD,WAAOC,GAAP,CAAWC,MAAX,CAAkB,WAAlB,EAA+B,YAAM;AACnC,UAAMC,cAAcC,QAAQ,WAAR,EAAqBC,OAAzC;AACAR,YAAMS,cAAN,CAAqBH,WAArB;AACD,KAHD;AAIAH,WAAOC,GAAP,CAAWC,MAAX,CAAkB,SAAlB,EAA6B,YAAM;AACjC,UAAMK,YAAYH,QAAQ,SAAR,EAAmBC,OAArC;AACAP,eAASU,MAAT;AACAV,eAASW,IAAT,CAAcC,IAAd,CAAmB,YAAM;AACvBZ,mBAAWH,eAAeI,GAAf,CAAmBQ,SAAnB,EAA8Bb,QAA9B,CAAX;AACD,OAFD;AAGD,KAND;AAOD;;AAED,SAAOG,KAAP;AACD,CA7BD;;eA+BeL,c;;;;;;;;;gCAnCTJ,Q;;gCAIAI,c","file":"configure.js","sourceRoot":"/Users/anas/workspace/ritualy","sourcesContent":["// https://github.com/diegohaz/arc/wiki/Redux-modules\nimport { createStore, applyMiddleware, compose } from 'redux'\nimport createSagaMiddleware from 'redux-saga'\nimport { isDev, isBrowser } from 'config'\nimport middlewares from './middlewares'\nimport reducer from './reducer'\nimport sagas from './sagas'\n\nconst devtools = isDev && isBrowser && window.devToolsExtension\n  ? window.devToolsExtension\n  : () => fn => fn\n\nconst configureStore = (initialState, services = {}) => {\n  const sagaMiddleware = createSagaMiddleware()\n\n  const enhancers = [\n    applyMiddleware(\n      ...middlewares,\n      sagaMiddleware\n    ),\n    devtools(),\n  ]\n\n  const store = createStore(reducer, initialState, compose(...enhancers))\n  let sagaTask = sagaMiddleware.run(sagas, services)\n\n  if (module.hot) {\n    module.hot.accept('./reducer', () => {\n      const nextReducer = require('./reducer').default\n      store.replaceReducer(nextReducer)\n    })\n    module.hot.accept('./sagas', () => {\n      const nextSagas = require('./sagas').default\n      sagaTask.cancel()\n      sagaTask.done.then(() => {\n        sagaTask = sagaMiddleware.run(nextSagas, services)\n      })\n    })\n  }\n\n  return store\n}\n\nexport default configureStore\n"]}